# ðŸ“¡ API Documentation â€” Flask Backend

This document describes the REST API endpoints for overlays used in the Fullstack RTSP Livestream project.

---

## Base URL

http://localhost:5000


---

## ðŸŸ¢ GET /overlays

Fetch all overlays.

**Curl Example:**
```bash
curl http://localhost:5000/overlays

Response Example:
[
  {
    "_id": "68efe280f86a5370eca595aa",
    "type": "text",
    "content": "Live event",
    "x": 10,
    "y": 10,
    "width": 200,
    "height": 50
  }
]


ðŸ”µ POST /overlays

Add a new overlay.

Curl Example:

curl -X POST http://localhost:5000/overlays \
  -H "Content-Type: application/json" \
  -d '{"type":"text","content":"Live event","x":10,"y":10,"width":200,"height":50}'

Response Example:
{
  "_id": "68efe280f86a5370eca595aa"
}

ðŸŸ£ PUT /overlays/{id}

Update an overlayâ€™s position, size, or content. Replace {id} with the _id returned by POST or GET.

Curl Example:

curl -X PUT http://localhost:5000/overlays/68efe280f86a5370eca595aa \
  -H "Content-Type: application/json" \
  -d '{"content":"Updated text","x":20,"y":20,"width":220,"height":60}'

Response Example:
{
  "updated": true
}

ðŸ”´ DELETE /overlays/{id}

Delete an overlay by ID. Replace {id} with the _id.

Curl Example:

curl -X DELETE http://localhost:5000/overlays/68efe280f86a5370eca595aa

Response Example:
{
  "deleted": true
}


ðŸŸ¡ GET /stream/stream.m3u8

Returns the HLS playlist file generated by FFmpeg for video playback.

Curl Example:
curl http://localhost:5000/stream/stream.m3u8

Notes:

Backend automatically serves static files under /stream/.

Ensure FFmpeg is running and writing HLS segments to backend/static/.

All overlay updates are persisted in MongoDB.


---

âœ… With this version, you can directly copy-paste `curl` commands to **test your API** in terminal.  

